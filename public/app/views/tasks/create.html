<h2>Create a {{template.name}} Task</h2>
<p>{{template.instructions}}</p>
<!-- layout row -->
<div class="row">

  <!-- lhs column -->
  <div class="col-md-7 col-md-offset-1">
    <form class="form-horizontal" name="taskForm" enctype="multipart/form-data">
      <h4>Meta</h4>
      <div class="form-group">
        <label for="meta_tags" class="col-sm-2 control-label">meta tags</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="meta_tags" ng-model="formData.meta_value" placeholder="enter tags separated by a comma">
        </div>
      </div>
      <div class="form-group">
        <label for="meta_preview" class="col-sm-2 control-label">meta preview</label>
        <div class="col-sm-10">
          <code>
            static_meta: {<br />
            &nbsp;&nbsp;{{formData.meta_object}}: [{<br />
            &nbsp;&nbsp;&nbsp;&nbsp;{{formData.meta_key}}: '{{formData.meta_value}}'<br />
            &nbsp;&nbsp;}],<br />
            &nbsp;&nbsp;...<br />
            }
          </code>
      </div>
      <h4>Task Settings</h4>
      <div class="form-group">
        <label for="name" class="col-sm-2 control-label">task name</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="name" ng-model="formData.name" placeholder="enter a task name">
        </div>
      </div>
      <div class="form-group">
        <label for="description" class="col-sm-2 control-label">task description</label>
        <div class="col-sm-10">
          <textarea rows="3" class="form-control" id="description" ng-model="formData.description" placeholder="enter a description"></textarea>
        </div>
      </div>
      <div class="form-group">
        <label for="jobs" class="col-sm-2 control-label">no. of jobs</label>
        <div class="col-sm-8">
          <input type="range" class="form-control" id="jobs" ng-model="formData.job_count" min="1" max="1000", value="100" required>
        </div>
        <div class="col-sm-2">{{formData.job_count}}</div>
      </div>
      <div class="form-group">
        <label for="passes" class="col-sm-2 control-label">no. of passes</label>
        <div class="col-sm-8">
          <input type="range" class="form-control" id="passes" ng-model="formData.passes" min="1" max="10", value="1" required>
        </div>
        <div class="col-sm-2">{{formData.passes}}</div>
      </div>
      <div class="form-group">
        <label for="segment_size" class="col-sm-2 control-label">segment size</label>
        <div class="col-sm-8">
          <input type="range" class="form-control" id="segment_size" ng-model="formData.segment_size" min="5" max="120", value="15" required>
        </div>
        <div class="col-sm-2">{{formData.segment_size}}</div>
      </div>
      <h4>Task Instructions</h4>
      <div class="form-group">
        <label for="instructions" class="col-sm-2 control-label">task instructions</label>
        <div class="col-sm-10">
          <textarea rows="3" class="form-control" id="instructions" ng-model="formData.instructions" placeholder="enter the instructions that the user will follow"></textarea>
        </div>
      </div>
      <div class="form-group">
        <label for="file" class="col-sm-2 control-label">ref image</label>
        <input type="file" id="file" ngf-select ng-model="picFile" name="file" accept="image/*" ngf-max-size="2MB" required>
          <i ng-show="taskForm.file.$error.maxSize">File too large
              {{picFile.size / 1000000|number:1}}MB: max 2M</i>
          <img ng-show="taskForm.file.$valid" ngf-thumbnail="picFile" class="thumb"> <button ng-click="picFile = null" ng-show="picFile">Remove</button>
          <br>
          <button ng-disabled="!taskForm.$valid"
                  ng-click="uploadPic(picFile)">Submit</button>
          <span class="progress" ng-show="picFile.progress >= 0">
            <div style="width:{{picFile.progress}}%"
                ng-bind="picFile.progress + '%'"></div>
          </span>
          <span ng-show="picFile.result">Upload Successful</span>
          <span class="err" ng-show="errorMsg">{{errorMsg}}</span>
      </div>
    </div>
  <button type="submit" class="btn btn-success btn-lg btn-block" ng-click="uploadPic(picFile)">Submit</button>
    </form>
  </div> <!-- end lhs column -->
  <!-- rhs column -->
  <div class="col-md-4">
    <div class="row">
      <div class="col-md-12">
        <div class="panel panel-default">
          <div class="panel-heading">Task Preview</div>
          <div class="panel-body">
            <div class="row">
              <div class="col-md-8 col-md-offset-4">
                <h4>Task</h4>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4">
                Ref Images:
                <div>
                  <img ng-show="taskForm.file.$valid" ngf-thumbnail="picFile" class="thumb">
                </div>
              </div>
              <div class="col-md-4">
                Video:
              </div>
              <div class="col-md-4">
                Instructions:
                <p>
                  {{formData.instructions}}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- end rhs column -->
</div>
